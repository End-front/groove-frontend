{
	"root": true,
	"env": { "browser": true, "es2020": true },
	"extends": ["next/core-web-vitals"],
	"ignorePatterns": ["dist", ".eslintrc.json"],
	"plugins": ["boundaries"],
	"settings": {
		"import/resolver": {
			"typescript": {
				"alwaysTryTypes": true
			},
			"boundaries/include": ["src/**/*"],
			"boundaries/elements": [
				{
					"type": "app",
					"pattern": "app"
				},
				{
					"type": "pages",
					"pattern": "src/pages/*",
					"capture": ["page"]
				},
				{
					"type": "widgets",
					"pattern": "widgets/*",
					"capture": ["widget"]
				},
				{
					"type": "features",
					"pattern": "features/*",
					"capture": ["feature"]
				},
				{
					"type": "entities",
					"pattern": "entities/*",
					"capture": ["entity"]
				},
				{
					"type": "shared",
					"pattern": "shared/*",
					"capture": ["segment"]
				}
			]
		},
		"rules": {
			"boundaries/entry-point": [
				2,
				{
					"default": "disallow",
					"rules": [
						{
							"target": [
								[
									"shared",
									{
										"segment": "ui"
									}
								]
							],
							"allow": "**"
						},
						{
							"target": ["app", "pages", "widgets", "features", "entities"],
							"allow": "index.(ts|tsx)"
						}
					]
				}
			],
			"boundaries/element-types": [
				2,
				{
					"default": "allow",
					"message": "${file.type} is not allowed to import (${dependency.type})",
					"rules": [
						{
							"from": ["shared"],
							"disallow": ["app", "pages", "widgets", "features", "entities"],
							"message": "Shared module mustn't import upper layers (${dependency.type})"
						},
						{
							"from": ["entities"],
							"disallow": ["app", "pages", "widgets", "features"],
							"message": "Entity mustn't import upper layers (${dependency.type})"
						},
						{
							"from": ["entities"],
							"disallow": [
								[
									"entities",
									{
										"entity": "!${entity}"
									}
								]
							],
							"message": "Entity mustn't import other entity"
						},
						{
							"from": ["features"],
							"disallow": ["app", "pages", "widgets"],
							"message": "Feature mustn't import upper layers (${dependency.type})"
						},
						{
							"from": ["features"],
							"disallow": [
								[
									"features",
									{
										"feature": "!${feature}"
									}
								]
							],
							"message": "Feature mustn't import other feature"
						},
						{
							"from": ["widgets"],
							"disallow": ["app", "pages"],
							"message": "Widget mustn't import upper layers (${dependency.type})"
						},
						{
							"from": ["widgets"],
							"disallow": [
								[
									"widgets",
									{
										"widget": "!${widget}"
									}
								]
							],
							"message": "Widget mustn't import other widget"
						},
						{
							"from": ["pages"],
							"disallow": ["app"],
							"message": "Page mustn't import upper layers (${dependency.type})"
						},
						{
							"from": ["pages"],
							"disallow": [
								[
									"pages",
									{
										"page": "!${page}"
									}
								]
							],
							"message": "Page mustn't import other page"
						}
					]
				}
			]
		}
	}
}
