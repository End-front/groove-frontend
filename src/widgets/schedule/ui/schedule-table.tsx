import { cn } from '@/shared/lib/class-name'

const TEMPLATE_COLS = 7

export function ScheduleTable({
	schedule,
	className
}: {
	schedule: Array<string | null>
	className?: string
}) {
	const scheduleArr = schedule.concat(
		new Array(
			schedule.length % TEMPLATE_COLS !== 0
				? TEMPLATE_COLS - (schedule.length % TEMPLATE_COLS)
				: 0
		).fill(null),
		new Array(TEMPLATE_COLS).fill(null)
	)

	return (
		<div className='relative w-full'>
			<SVGLogo className='absolute inset-0 -z-[1] h-full w-full' />
			<div className='grid grid-cols-7 text-center'>
				{scheduleArr.map((block, index) => (
					<div
						key={index}
						className={cn(
							'flex items-center justify-center border-current px-1 py-1.5',
							index >= TEMPLATE_COLS && 'border-t',
							index % TEMPLATE_COLS !== 0 && 'border-l',
							index < TEMPLATE_COLS || index % TEMPLATE_COLS === 0
								? 'text-[10px] font-bold !leading-snug sm:text-[16px] md:text-[20px] lg:text-sm-lg xl:text-sm-xl'
								: 'text-[8px] font-semibold !leading-snug sm:text-[10px] md:text-[14px] lg:text-[18px] xl:text-[22px] 2xl:text-[28px]',
							index >= TEMPLATE_COLS &&
								index < scheduleArr.length - TEMPLATE_COLS &&
								'min-h-[32px] sm:min-h-[44px] md:min-h-[60px] lg:min-h-[80px] xl:min-h-[104px] 2xl:min-h-[120px]',
							index >= scheduleArr.length - TEMPLATE_COLS &&
								'h-[24px] sm:h-[32px] md:h-[40px] lg:h-[48px] xl:h-[56px] 2xl:h-[64px]'
						)}
					>
						{block}
					</div>
				))}
			</div>
		</div>
	)
}

export function SVGLogo({ className }: { className?: string }) {
	return (
		<svg
			className={className}
			width='316'
			height='211'
			viewBox='0 0 316 211'
			fill='none'
			xmlns='http://www.w3.org/2000/svg'
		>
			<g filter='url(#section-logo-schedule-blur)'>
				<path
					fillRule='evenodd'
					clipRule='evenodd'
					d='M112.423 182.935V197.443C111.181 196.945 109.947 196.416 108.724 195.856C97.9595 190.927 88.1782 183.704 79.939 174.597C71.7275 165.521 65.2084 154.752 60.7502 142.902V182.601C59.4054 181.285 58.0953 179.922 56.8222 178.515C48.583 169.409 42.0475 158.598 37.5883 146.699C33.1294 134.801 30.8344 122.049 30.8344 109.17C30.8344 96.2913 33.1294 83.5388 37.5883 71.6405C42.0475 59.7422 48.583 48.9311 56.8222 39.8246C58.0953 38.4174 59.4054 37.0551 60.7502 35.7393V67.6022C65.2084 55.7513 71.7275 44.9824 79.939 35.9065C88.1782 26.8 97.9595 19.5763 108.724 14.6478C109.948 14.0878 111.181 13.5586 112.423 13.0605V30.5743C125.482 21.0156 141.141 15.4491 157.977 15.4491C174.667 15.4491 190.2 20.9196 203.19 30.3268V13.0605C204.433 13.5586 205.666 14.0878 206.889 14.6478C217.654 19.5762 227.436 26.8 235.675 35.9065C243.68 44.7544 250.077 55.2113 254.523 66.7111V35.7393C255.868 37.0551 257.178 38.4174 258.451 39.8247C266.691 48.9313 273.226 59.7423 277.685 71.6406C282.144 83.5389 284.439 96.2914 284.439 109.17C284.439 122.049 282.144 134.801 277.685 146.699C273.226 158.598 266.691 169.409 258.451 178.515C257.178 179.923 255.868 181.285 254.523 182.601V143.793C250.077 155.292 243.68 165.749 235.675 174.597C227.436 183.704 217.654 190.927 206.889 195.856C205.666 196.416 204.433 196.945 203.19 197.443V183.183C190.2 192.59 174.667 198.061 157.977 198.061C141.141 198.061 125.482 192.494 112.423 182.935ZM17.6641 74.5123C19.489 69.6428 21.7389 64.9959 24.3756 60.6346V149.814C21.7389 145.453 19.489 140.806 17.6641 135.937C14.0151 126.2 12.137 115.764 12.137 105.224C12.137 94.6852 14.0151 84.2493 17.6641 74.5123ZM290.898 60.6346C293.535 64.9959 295.785 69.6428 297.61 74.5123C301.259 84.2493 303.137 94.6852 303.137 105.224C303.137 115.764 301.259 126.2 297.61 135.937C295.785 140.806 293.535 145.453 290.898 149.814V60.6346ZM84.137 104.136C84.137 98.5715 88.6479 94.0605 94.2124 94.0605H111.062C116.626 94.0605 121.137 98.5715 121.137 104.136V119.985C121.137 125.55 116.626 130.061 111.062 130.061H94.2124C88.6479 130.061 84.137 125.55 84.137 119.985V104.136ZM202.212 91.0605C196.648 91.0605 192.137 95.5715 192.137 101.136V116.985C192.137 122.55 196.648 127.061 202.212 127.061H219.062C224.626 127.061 229.137 122.55 229.137 116.985V101.136C229.137 95.5715 224.626 91.0605 219.062 91.0605H202.212Z'
					fill='#AD0003'
					fillOpacity='0.5'
				/>
				<path
					fillRule='evenodd'
					clipRule='evenodd'
					d='M112.423 182.935V197.443C111.181 196.945 109.947 196.416 108.724 195.856C97.9595 190.927 88.1782 183.704 79.939 174.597C71.7275 165.521 65.2084 154.752 60.7502 142.902V182.601C59.4054 181.285 58.0953 179.922 56.8222 178.515C48.583 169.409 42.0475 158.598 37.5883 146.699C33.1294 134.801 30.8344 122.049 30.8344 109.17C30.8344 96.2913 33.1294 83.5388 37.5883 71.6405C42.0475 59.7422 48.583 48.9311 56.8222 39.8246C58.0953 38.4174 59.4054 37.0551 60.7502 35.7393V67.6022C65.2084 55.7513 71.7275 44.9824 79.939 35.9065C88.1782 26.8 97.9595 19.5763 108.724 14.6478C109.948 14.0878 111.181 13.5586 112.423 13.0605V30.5743C125.482 21.0156 141.141 15.4491 157.977 15.4491C174.667 15.4491 190.2 20.9196 203.19 30.3268V13.0605C204.433 13.5586 205.666 14.0878 206.889 14.6478C217.654 19.5762 227.436 26.8 235.675 35.9065C243.68 44.7544 250.077 55.2113 254.523 66.7111V35.7393C255.868 37.0551 257.178 38.4174 258.451 39.8247C266.691 48.9313 273.226 59.7423 277.685 71.6406C282.144 83.5389 284.439 96.2914 284.439 109.17C284.439 122.049 282.144 134.801 277.685 146.699C273.226 158.598 266.691 169.409 258.451 178.515C257.178 179.923 255.868 181.285 254.523 182.601V143.793C250.077 155.292 243.68 165.749 235.675 174.597C227.436 183.704 217.654 190.927 206.889 195.856C205.666 196.416 204.433 196.945 203.19 197.443V183.183C190.2 192.59 174.667 198.061 157.977 198.061C141.141 198.061 125.482 192.494 112.423 182.935ZM17.6641 74.5123C19.489 69.6428 21.7389 64.9959 24.3756 60.6346V149.814C21.7389 145.453 19.489 140.806 17.6641 135.937C14.0151 126.2 12.137 115.764 12.137 105.224C12.137 94.6852 14.0151 84.2493 17.6641 74.5123ZM290.898 60.6346C293.535 64.9959 295.785 69.6428 297.61 74.5123C301.259 84.2493 303.137 94.6852 303.137 105.224C303.137 115.764 301.259 126.2 297.61 135.937C295.785 140.806 293.535 145.453 290.898 149.814V60.6346ZM84.137 104.136C84.137 98.5715 88.6479 94.0605 94.2124 94.0605H111.062C116.626 94.0605 121.137 98.5715 121.137 104.136V119.985C121.137 125.55 116.626 130.061 111.062 130.061H94.2124C88.6479 130.061 84.137 125.55 84.137 119.985V104.136ZM202.212 91.0605C196.648 91.0605 192.137 95.5715 192.137 101.136V116.985C192.137 122.55 196.648 127.061 202.212 127.061H219.062C224.626 127.061 229.137 122.55 229.137 116.985V101.136C229.137 95.5715 224.626 91.0605 219.062 91.0605H202.212Z'
					fill='black'
					fillOpacity='0.2'
				/>
			</g>
		</svg>
	)
}
